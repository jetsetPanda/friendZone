<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>friendZone | A Place To Meet friendZ</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
    <link href="https://fonts.googleapis.com/css?family=Varela+Round|Fredoka+One" rel="stylesheet">
<style> 
    .card {
      background-color: rgba(0, 0, 0, 0.205);
    }
    .modal-content {
      background-color: rgba(0, 0, 0, 0.425);                                                                                        
    }
    .logoleft {
      font-family: 'Varela Round', sans-serif;
    }
    .logoright {
      font-family: 'Fredoka One', cursive;
    }
    .bgstyle {
        height: 93.5vh;
        width: 100%;
        min-height: 350px;
        background: no-repeat center center ;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
    }
    #bg1 {
      background-image: url('https://source.unsplash.com/S_VbdMTsdiA/1920x1080');
    }
    #bg2 {
      background-image: url('https://source.unsplash.com/mA_lknGurfc/1920x1080');
    }
</style>


</head>

<body>

<!-- Navigation -->
 <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
      <a class="navbar-brand text-primary logoleft" href="/">friend<span class="text-warning logoright">Zone</span></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
      <div class="collapse navbar-collapse logoright" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/">Home
                  <span class="sr-only">(current)</span>
                </a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="#">About</a>
          </li> -->
          <li class="nav-item">
            <a class="nav-link" href="api/friends">API View</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://jetsetpanda.github.io/jetsetPanda/">About The Developer</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>


<div id="bg1" class="row mt-5 pt-5 bgstyle" >
  <div class="col-md-3"></div>
  <div class="col-md-6">
      <div id="friendSurvey" class="carousel slide" data-interval="false">
        <div class="carousel-inner">
          <div class="carousel-item active">
              <div class="card">
                  <div class="card-header logoleft text-primary text-center">
                      <h3>Tell Us About<span class="logoright text-warning"> You</span></h3>
                  </div>
                  <div class="card-body text-light">
                    <form>
                      <div class="form-group logoright">
                          <label for="friendName">Your Name</label>
                          <input type="text" class="form-control logoleft" id="friendName" placeholder="Full Name or Nickname">
                      </div>
                      <div class="form-group logoright">
                          <label for="picURL">Your Photo Link</label>
                          <input type="text" class="form-control logoleft" id="picURL" placeholder="Insert Image URL Link Here">
                      </div>
                      <div class="form-group logoright">
                          <label for="descriptionz">Describe Yourself in the Third Person...</label>
                          <textarea class="form-control logoleft" id="descriptionz" placeholder="He/She loves spaghetti dinners, midnight jogs, write haikus and catch up on the latest superhero flick..." rows="2"></textarea>
                      </div>
                    </form>
                    <p class="text-right text-muted logoright">*All Fields Required</p>
                  </div>
                  <div class="card-footer">
                    <a href="#" class="btn btn-primary btn-block nextPls">START <span class="logoleft text-warning">friend</span><span class="logoright text-warning">Quiz</span></a>
                  </div>
              </div>
            <!-- <img class="d-block w-100" src="https://source.unsplash.com/nF8xhLMmg0c/1920x1080" alt="First slide"> -->
          </div>
      <!-- QUESTION 1 -->
          <div class="carousel-item">
            <div class="card logoright">
              <div class="card-header text-center">
                  <h4 class=" text-light">Which color gives you a warm and fuzzy feeling?</span></h4>
              </div>
              <div class="card-body">
                  <form id="survey01">
                      <button type="button" class="btn btn-outline-primary btn-lg btn-block nextPlz surveyQ " value="1">Dollar Green</button>
                      <button type="button" class="btn btn-outline-primary btn-lg btn-block nextPlz surveyQ " value="2">Flamingo Pink</button>
                      <button type="button" class="btn btn-outline-primary btn-lg btn-block nextPlz surveyQ " value="3">Ripe Peach</button>
                      <button type="button" class="btn btn-outline-primary btn-lg btn-block nextPlz surveyQ " value="4">Lavender</button>
                      <button type="button" class="btn btn-outline-primary btn-lg btn-block nextPlz surveyQ " value="5">Ferrari Yellow</button>                    
                  </form>
              </div>
            </div>
          </div>


      <!-- QUESTION 2 -->
          <div class="carousel-item">
            <div class="card logoright">
                <div class="card-header text-center">
                  <h4 class=" text-light">Given a sizeable budget, what's your ideal getaway?</span></h4>
              </div>
              <div class="card-body">
                  <form id="survey02">
                      <button type="button" class="btn btn-outline-info btn-lg btn-block nextPlz surveyQ " value="1">Invest the money instead and watch it grow baby!</button>
                      <button type="button" class="btn btn-outline-info btn-lg btn-block nextPlz surveyQ " value="2">Join a research expedition to Antarctica</button>
                      <button type="button" class="btn btn-outline-info btn-lg btn-block nextPlz surveyQ " value="3">Do a top restaurant and wine tour of Europe</button>
                      <button type="button" class="btn btn-outline-info btn-lg btn-block nextPlz surveyQ " value="4">Close down a theme park for you and your buddies</button>
                      <button type="button" class="btn btn-outline-info btn-lg btn-block nextPlz surveyQ " value="5">Luxury Private Island Escape</button>                    
                  </form>
              </div>
            </div>
          </div>
      <!-- QUESTION 3  -->
          <div class="carousel-item">
            <div class="card logoright">
                <div class="card-header text-center">
                  <h4 class=" text-light">Which of these cuddly pets would you adopt?</span></h4>
              </div>
              <div class="card-body">
                  <form id="survey03">
                      <button type="button" class="btn btn-outline-success btn-lg btn-block nextPlz surveyQ " value="1">Never had pets, never will</button>
                      <button type="button" class="btn btn-outline-success btn-lg btn-block nextPlz surveyQ " value="2">Sphynx (hairless) Cat</button>
                      <button type="button" class="btn btn-outline-success btn-lg btn-block nextPlz surveyQ " value="3">Hedgehog</button>
                      <button type="button" class="btn btn-outline-success btn-lg btn-block nextPlz surveyQ " value="4">Afghan Hound</button>
                      <button type="button" class="btn btn-outline-success btn-lg btn-block nextPlz surveyQ " value="5">Tarantula or Any Insect</button>                    
                  </form>
              </div>
            </div>
          </div>
      <!-- QUESTION 4 -->
          <div class="carousel-item">
            <div class="card logoright">
                <div class="card-header text-center">
                  <h4 class=" text-light">Which of these famed figures would you hang out with?</span></h4>
              </div>
              <div class="card-body">
                  <form id="survey04">
                      <button type="button" class="btn btn-outline-danger btn-lg btn-block nextPlz surveyQ " value="1">Jared Kushner</button>
                      <button type="button" class="btn btn-outline-danger btn-lg btn-block nextPlz surveyQ " value="2">Queen Elizabeth II</button>
                      <button type="button" class="btn btn-outline-danger btn-lg btn-block nextPlz surveyQ " value="3">Dalai Lama</button>
                      <button type="button" class="btn btn-outline-danger btn-lg btn-block nextPlz surveyQ " value="4">Maya Angelou</button>
                      <button type="button" class="btn btn-outline-danger btn-lg btn-block nextPlz surveyQ " value="5">All of The Backstreet Boys</button>                    
                  </form>
              </div>
            </div>
          </div>
      <!-- QUESTION 5 -->
          <div class="carousel-item">
            <div class="card logoright">
                <div class="card-header text-center">
                  <h4 class=" text-light">What aspect of yourself do you feel most grateful for?</span></h4>
              </div>
              <div class="card-body">
                  <form id="survey05">
                      <button type="button" class="btn btn-outline-warning btn-lg btn-block gatherData surveyQ " value="1">My well endowed intellect</button>
                      <button type="button" class="btn btn-outline-warning btn-lg btn-block gatherData surveyQ " value="2">My strong faith and belief</button>
                      <button type="button" class="btn btn-outline-warning btn-lg btn-block gatherData surveyQ " value="3">My loyal and dependable pet/s</button>
                      <button type="button" class="btn btn-outline-warning btn-lg btn-block gatherData surveyQ " value="4">My great circle of friends</button>
                      <button type="button" class="btn btn-outline-warning btn-lg btn-block gatherData surveyQ " value="5">My just being alive every day</button>                    
                  </form>
              </div>
            </div>
          </div>
<!-- LOADING SCREEN -->
          <div class="carousel-item">
            <div class="card logoright">
              <div class="card-header text-left">
                <h4 class="text-light text-center">Thanks for your input! Give us a sec or two...</span></h4>
              </div>
              <div class="card-body text-center">
                <div>
                  <h1 class="text-white">Getting Your <span class="text-primary">Friend </span><span class="text-warning">Matches</span></h1>
                  <h7 class="text-muted">Please be patient, we're processing your responses to give you great matches!</h7>
                </div>
                <div class="spinner-border text-primary text-center" style="width: 5rem; height: 5rem;" role="status">
                  <span class="sr-only">Loading...</span>
                </div>
                
                <div class="spinner-grow text-warning text-center" style="width: 5rem; height: 5rem;" role="status">
                  <span class="sr-only">Loading...</span>
                </div>        

              </div>
            </div>
          </div>

        </div>
      </div>
  </div>
  <div class="col-md-3"></div>
</div>


<!-- MODALS -->

<div class="modal fade bgstyle" id="pairingModey" tabindex="-1" data-keyboard="false" data-backdrop="static" style="background-image: url('https://source.unsplash.com/3skLpaOBlMw/1920x1080');">
  <!-- mA_lknGurfc -->
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">            
            <div class="moda-header">
              <h3 class="modal-title logoright text-center text-white">MEET YOUR <span class="text-primary logoleft">NEW</span><span class="text-warning">FRIENDS</span>!</h3>
            </div>   
            <div class="modal-body text-center">
                <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                      <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                      <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                      <!-- <li data-target="#carouselExampleIndicators" data-slide-to="2"></li> -->
                    </ol>
                    <div class="carousel-inner">
                      <div id="friendMatch1" class="carousel-item active text-white logoleft">
                      </div>
                      <div id="friendMatch2" class="carousel-item text-white">
                      </div>
                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="sr-only">Next</span>
                    </a>
            </div>

            <div class="modal-footer item-center">
                <a href="/" class="btn btn-lg btn-outline-light btn-block logoright"><h3><span class="logoleft text-primary">friend</span><span class="logoright text-warning">Zone</span> Home</h3></a>
            </div>
        </div>
    </div>
</div>



  <!-- LATEST JQUERY AND BOOTSTRAP SCRIPT -->
  <script src="https://code.jquery.com/jquery-3.4.0.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script type="text/javascript">
$(document).ready(function() {

let friendName = '';
let scorez = [];
let description = '';
let picURL = '';
$('.nextPls').on('click', function() {
  friendName = $("#friendName").val().trim();
  picURL = $("#picURL").val().trim();
  description = $("#descriptionz").val().trim();
  if (friendName.length > 2 && picURL.length > 2 && description.length > 2) {
    $('.carousel').carousel('next');
  } else { alert("Hey fill up the fields they're all required!"); }
});

$('.nextPlz').on('click', function() {
    $('.carousel').carousel('next');
});

$(".surveyQ").on("click", function(e) {
      // console.log(`Question 1 Choice: ${scorez[0]});
  scorez.push(parseInt($(this).attr("value")));
  console.log(`button clicked, selected: ${scorez[0]}`);
});


$(".gatherData").on("click", function(event) {
  console.log("CONCLUDING TRANSMISSION");
  event.preventDefault();

  let newFriend = {
    "name": friendName,
    "photo": picURL,
    "description": description,
    "scores": scorez
  };

  console.log(`A new friend is created: ${newFriend}`);
  
  $.post("/api/friends", newFriend, 
    function(data) {
      if (data) {
          console.log("POST: friendZoned!");
      } 
  });
  friendPair(newFriend);
  
});

// PAIRING LOGIC --- you will be paired with a friend with the same choice as yours on question 5, and Charlie Shone....
function friendPair(newFriend) {
  $('.carousel').carousel('next');
  
  setTimeout(function() {
  
  let frand = newFriend;
  let frandscore = parseInt(frand.scores[4]);
  let plusfive = 5+frandscore;
  console.log(frandscore + " five equals " + plusfive);

  $.get("/api/friends", function(resp) {
    if(resp) {
      friendMatch = resp[frandscore];
      tigerBlood = resp[0];
      console.log("The matched friend is " + friendMatch.name);
      // alert("The winning friend is " + friendMatch.name);
      let matchOneHTML = `<div><img src="${friendMatch.photo}" width="200px" height="300px"/></div><div><h3>${friendMatch.name}</h3></div><div><p>${friendMatch.description}</p></div><br><br>`;
      let matchTwoHTML = `<div><img src="${tigerBlood.photo}" width="200px" height="300px"/></div><div><h3>${tigerBlood.name}</h3></div><div><p>${tigerBlood.description}</p></div><br><br>`;
      $("#friendMatch1").append(matchOneHTML);
      $("#friendMatch2").append(matchTwoHTML);
    }
  
  })
    $('#pairingModey').modal('show');      
  }, 5000);

}

});
  
</script>

</body>
</html>